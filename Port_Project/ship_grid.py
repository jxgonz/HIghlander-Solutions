# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'ship_grid.ui'
#
# Created by: PyQt5 UI code generator 5.15.9
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets


class Ui_Form(object):
    def setupUi(self, Form):
        Form.setObjectName("Remove Containers")
        Form.resize(802, 515)
        Form.setAutoFillBackground(False)
        self.tableWidget = QtWidgets.QTableWidget(Form)
        self.tableWidget.setGeometry(QtCore.QRect(110, 60, 590, 325))
        self.tableWidget.setSizeAdjustPolicy(QtWidgets.QAbstractScrollArea.AdjustToContents)
        self.tableWidget.setEditTriggers(QtWidgets.QAbstractItemView.NoEditTriggers)
        self.tableWidget.setSelectionMode(QtWidgets.QAbstractItemView.MultiSelection)
        self.tableWidget.setCornerButtonEnabled(True)
        self.tableWidget.setRowCount(8)
        self.tableWidget.setColumnCount(12)
        self.tableWidget.setObjectName("tableWidget")
        self.tableWidget.horizontalHeader().setVisible(False)
        self.tableWidget.horizontalHeader().setDefaultSectionSize(40)
        self.tableWidget.horizontalHeader().setHighlightSections(True)
        self.tableWidget.horizontalHeader().setMinimumSectionSize(40)
        self.tableWidget.verticalHeader().setVisible(False)
        self.tableWidget.verticalHeader().setDefaultSectionSize(40)
        self.tableWidget.verticalHeader().setMinimumSectionSize(40)
        self.tableWidget.verticalHeader().setStretchLastSection(False)
        self.containers_remove = []

        self.retranslateUi(Form)
        QtCore.QMetaObject.connectSlotsByName(Form)

        self.tableWidget.cellClicked.connect(self.cell_was_clicked)

    def cell_was_clicked(self, row, column):
        # format row and column numbers to match manifest format
        row = 8-row
        row = f"0{row}"
        column = column+1
        if column < 10:
            column = f"0{column}"

        # If container has already been clicked, remove it from list if it is clicked again
        container = f"{row},{column}"
        if container in self.containers_remove:
            self.containers_remove.remove(container)
        # If container has not been clicked, add it to list
        else:    
            self.containers_remove.append(container)
        # Print all containers to be removed
        print(self.containers_remove)

    def retranslateUi(self, Form):
        _translate = QtCore.QCoreApplication.translate
        Form.setWindowTitle(_translate("Remove Containers", "Remove Containers"))


if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Form = QtWidgets.QWidget()
    ui = Ui_Form()
    ui.setupUi(Form)
    for row in range (8):
        for column in range (12):
            ui.tableWidget.setItem(row,column,QtWidgets.QTableWidgetItem())
            ui.tableWidget.item(row, column).setBackground(QtGui.QColor(100,100,150))
    Form.show()
    sys.exit(app.exec_())
